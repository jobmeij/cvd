Version 4
SHEET 1 1184 792
WIRE 16 336 -224 336
WIRE 288 336 96 336
WIRE 576 336 288 336
WIRE 848 336 640 336
WIRE 1008 336 848 336
WIRE 1072 336 1008 336
WIRE -224 368 -224 336
WIRE 288 384 288 336
WIRE 848 432 848 336
WIRE 1008 432 1008 336
WIRE 64 464 -16 464
WIRE 208 464 144 464
WIRE 240 464 208 464
WIRE 208 496 208 464
WIRE -16 528 -16 464
WIRE -16 528 -400 528
WIRE -400 608 -400 528
WIRE -224 608 -224 448
WIRE 208 608 208 576
WIRE 208 608 -224 608
WIRE 288 608 288 480
WIRE 288 608 208 608
WIRE 848 608 848 496
WIRE 848 608 288 608
WIRE 1008 608 1008 512
WIRE 1008 608 848 608
WIRE 288 672 288 608
WIRE -400 752 -400 688
FLAG 288 672 0
FLAG 1072 336 Vout
IOPIN 1072 336 Out
FLAG -400 752 0
SYMBOL nmos 240 384 R0
SYMATTR InstName M1
SYMATTR Value IRLZ44N
SYMBOL ind 0 352 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 470µH
SYMBOL diode 576 352 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N5822
SYMBOL Misc\\battery -224 352 R0
SYMATTR InstName V1
SYMATTR Value 1.5V
SYMBOL cap 832 432 R0
SYMATTR InstName C1
SYMATTR Value 100µF
SYMBOL res 992 416 R0
SYMATTR InstName R1
SYMATTR Value 33
SYMBOL Misc\\signal -400 592 R0
SYMATTR InstName V2
SYMATTR Value PULSE(0 3.3 0 10n 10n {Ton} {T})
SYMBOL res 192 480 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL res 160 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 47
TEXT -1128 592 Left 2 !.include 1N5822.sub
TEXT -1128 664 Left 2 !.tran 0 100ms 0 10
TEXT -1120 376 Left 2 !.param D = D_percent / 100       ; Duty cycle
TEXT -1120 424 Left 2 !.param T = 16.13u    ; Signal period (62kHz)
TEXT -1120 480 Left 2 !.param Ton = D * T   ; Pulse duration when in high level
TEXT -1120 248 Left 2 !.param D_percent = 57.2  ; Duty cycle percent
TEXT -1112 184 Left 2 !;step param D_percent list 10 40 50 57.2 65
TEXT -1120 624 Left 2 !.include IRLZ44N.sub
